<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multi Body Beam Formulation &mdash; QBlade Documentation 2.0.4 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/custom.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Aero-Elastic Coupling" href="../coupling/coupling.html" />
    <link rel="prev" title="Hydrostatic Forces" href="../../hydrodynamics/hydrostatics/hs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> QBlade Documentation
            <img src="../../../../_static/q_logo_black.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://docs.qblade.org">QBlade Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_th.html">Theory Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#aerodynamics">Aerodynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#hydrodynamics">Hydrodynamics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index_th.html#structural-dynamics">Structural Dynamics</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Multi Body Beam Formulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#element-and-multi-body-formulation">Element and Multi-Body Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-integrators-and-solver-for-the-structural-dynamics-simulation">Time Integrators and Solver for the Structural Dynamics Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../coupling/coupling.html">Aero-Elastic Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../table/table.html">Structural Data Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#environmental-conditions">Environmental Conditions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../user/index_ue.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../validation/index_val.html">Validation Cases and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license/index_license.html">License Info</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">QBlade Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index_th.html">Theory Guide</a> &raquo;</li>
      <li>Multi Body Beam Formulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/src/theory/structure/chrono/chrono.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="multi-body-beam-formulation">
<h1>Multi Body Beam Formulation<a class="headerlink" href="#multi-body-beam-formulation" title="Permalink to this headline"></a></h1>
<p>The structural model in QBlade is based on the FEA module of the open source multi-physics engine Project Chrono Tasora <em>et al.</em><a class="footnote-reference brackets" href="#footcite-tasora2016b" id="id1">1</a>. Project Chrono
is based on a platform independent design Projectchrono.org<a class="footnote-reference brackets" href="#footcite-projectchrono-org2019" id="id2">2</a>, which is developed in the C++ language as an object-oriented library.</p>
<p>For the integration into QBlade, the Chrono::Engine module is employed. Chrono::Engine is the core module of Project::Chrono, it contains functionality
for setting up and solving physical systems containing Newtonian dynamics and finite elements. The SparseLU solver of the EIGEN C++ template
library Tuxfamily<a class="footnote-reference brackets" href="#footcite-eigen" id="id3">3</a> is used as a solver for the finite element problem. A dynamic link library, containing the Chrono module, has been compiled from
Project Chrono’s GIT repository. The relevant header files of Project Chrono and the EIGEN library are included, and the Chrono DLL is linked to QBlade’s source
code. This enables the definition of the physical system and the finite elements and grants access to the solver to perform time domain simulation of structural
dynamics inside QBlade.</p>
<section id="element-and-multi-body-formulation">
<h2>Element and Multi-Body Formulation<a class="headerlink" href="#element-and-multi-body-formulation" title="Permalink to this headline"></a></h2>
<p>The structural turbine model in the QBlade-Chrono coupling consists of Euler Bernoulli beams in a co-rotational formulation Negrut<a class="footnote-reference brackets" href="#footcite-negrut2016" id="id4">4</a>. In the
co-rotational formulation (see <a class="reference internal" href="#fig-corotational"><span class="std std-numref">Fig. 16</span></a>), a floating coordinate system is attached to each deformable beam element. The overall motion of a
beam element is then the addition of the rigid body (translation and rotation) undergone by the floating coordinate system and a smaller strain deformation,
expressed in the floating frame of reference. The global tangent stiffness matrix in Project Chrono’s implementation is formulated in a way to include terms for
geometric stiffness.</p>
<figure class="align-center" id="id8">
<span id="fig-corotational"></span><img alt="Forces on a 2D airfoil" src="../../../../_images/corotational.png" />
<figcaption>
<p><span class="caption-number">Fig. 16 </span><span class="caption-text">Visualization of the co-rotational beam approach.</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In QBlade’s implementation of the structural model, the complete turbine structure is divided up into body objects. A body object contains an array for
its structural nodes, an array for its structural beam elements, a unique identifier and several functions to access forces, torques, positions, velocities,
accelerations and deflections. For a common HAWT, one body is created for each blade and one body for the tower.</p>
<figure class="align-center" id="id9">
<span id="fig-structural-model"></span><img alt="Visualization of the co-rotational beam approach" src="../../../../_images/structural_model.png" />
<figcaption>
<p><span class="caption-number">Fig. 17 </span><span class="caption-text">Visualization of the co-rotational beam approach.</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>After the bodies have been created, they are assembled using joints or constraints (see <a class="reference internal" href="#fig-structural-model"><span class="std std-numref">Fig. 17</span></a>). The tower is fixed to the ground
by constraining all six DoF of the bottom tower node. A spring and damper may be defined at the ground to include foundation and soil dynamics. Using a
revolute constraint, a free yaw node is connected to the tower top. Another revolute constraint then connects the hub node to the yaw node. Lastly, the blades
are fixed around the hub node with revolute constraints, allowing them to rotate around the pitch axis. After the assembly of the bodies is completed, actuators
are added to the revolute constraints. These actuators are used to yaw or pitch the turbine, based on controller signals and to model the generator. Actuators
are implemented as engine type constraints. At these engine type constraints, either a rotational angle, a rotational speed or a torque can be applied. This
functionality is used to prescribe pitch angles at the pitch constraints, yaw angles at the yaw constraint and the generator torque at the shaft constraint.
Furthermore, if no controller is used within a simulation, a constant rotational speed is prescribed for the main shaft to operate the turbine at a constant
rotational speed.</p>
</section>
<section id="time-integrators-and-solver-for-the-structural-dynamics-simulation">
<h2>Time Integrators and Solver for the Structural Dynamics Simulation<a class="headerlink" href="#time-integrators-and-solver-for-the-structural-dynamics-simulation" title="Permalink to this headline"></a></h2>
<p>Various factors influence the overall contribution of the structural model to the total computational cost of an aeroelastic simulation. The size of the
problem matrix is proportional to the number of degrees of freedom that the system contains. Each main component (blades, struts, tower) of the assembled
turbine can be discretized with an arbitrary number of structural nodes, where each node adds 6 degrees of freedom to the system matrix. Clearly, the total
contribution of the structural model evaluations to the overall computational cost scales with the time step size of the structural evaluations. Due to the
loose coupling method that is being employed in QBlade, the time step size can be set independently of that of the aerodynamic calculations.</p>
<figure class="align-center" id="id10">
<span id="fig-startup"></span><a class="reference internal image-reference" href="../../../../_images/startup.png"><img alt="Large blade deformations caused by inertial forces during rotor ramp-up" src="../../../../_images/startup.png" style="width: 258.0px; height: 277.6px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 18 </span><span class="caption-text">Large blade deformations caused by inertial forces during rotor ramp-up.</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the Chrono library, the multi-body FEA problem is formulated as a <em>Differential Variational Inequality</em> (DVI) problem. At each time step of the
structural simulation, the DVI problem is solved using the EIGEN SparseLU solver, which is included in the EIGEN C++ template library Tuxfamily<a class="footnote-reference brackets" href="#footcite-eigen" id="id5">3</a>. The
structural simulation is then advanced using a time integrator of choice. Several different time integrators (Tasora<a class="footnote-reference brackets" href="#footcite-tasora2017" id="id6">5</a>) are available in
Chrono. However, only the iterative HHT (<em>Hilber-Hughes-Taylor formulation</em>) has proven its usability within the current integration of Chrono in QBlade. While
other, non-iterative, integrators suffer from constraint drifts or require very small timesteps to yield reasonable results, the HHT integrator shows good
performance for structural time steps in the range of up to 5 degree azimuthal rotor increments.</p>
<p id="id7"><dl class="footnote brackets">
<dt class="label" id="footcite-tasora2016b"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Alessandro Tasora, Hammad Mazhar Radu Serban2, Arman Pazouki, Daniel Melanz, Jonathan Fleischmann, Michael Taylor, Hiroyuki Sugiyama, and Dan Negrut. Chrono: An Open Source Multi-physics Dynamics Engine. <em>Tasora, A., Serban, R., Mazhar, H., Pazouki, A., Melanz, D., Fleischmann, J., … Negrut, D. (2016). Chrono: An Open Source Multi-physics Dynamics Engine. High Performance Computing in Science and Engineering, 19–49. doi:10.1007/978-3-319-40361-8_2</em>, 2016. <a class="reference external" href="https://doi.org/10.1007/978-3-319-40361-8_2">doi:10.1007/978-3-319-40361-8_2</a>.</p>
</dd>
<dt class="label" id="footcite-projectchrono-org2019"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Projectchrono.org. Project Chrono - An Open-Source Physics Engine. 2019. URL: <a class="reference external" href="https://projectchrono.org/about/">https://projectchrono.org/about/</a> (visited on 2019-07-12).</p>
</dd>
<dt class="label" id="footcite-eigen"><span class="brackets">3</span><span class="fn-backref">(<a href="#id3">1</a>,<a href="#id5">2</a>)</span></dt>
<dd><p>Tuxfamily. EIGEN - a C++ template library for linear algebry: matrices, vectors, numerical solvers and related algorithms. URL: <a class="reference external" href="http://eigen.tuxfamily.org">http://eigen.tuxfamily.org</a> (visited on 2019-07-12).</p>
</dd>
<dt class="label" id="footcite-negrut2016"><span class="brackets"><a class="fn-backref" href="#id4">4</a></span></dt>
<dd><p>Dan Negrut. Co-rotational Formulation in Chrono Antonio Recuero Chrono. pages 1–10, 2016. <a class="reference external" href="https://doi.org/">doi:</a>.</p>
</dd>
<dt class="label" id="footcite-tasora2017"><span class="brackets"><a class="fn-backref" href="#id6">5</a></span></dt>
<dd><p>Alessandro Tasora. Time integration in Chrono::Engine. pages 1–44, 2017. <a class="reference external" href="https://doi.org/">doi:</a>.</p>
</dd>
</dl>
</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../hydrodynamics/hydrostatics/hs.html" class="btn btn-neutral float-left" title="Hydrostatic Forces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../coupling/coupling.html" class="btn btn-neutral float-right" title="Aero-Elastic Coupling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, David Marten, Joseph Saverin, Robert Behrens de Luna, Sebastian Perez-Becker, licensed under CC BY-NC-ND.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>