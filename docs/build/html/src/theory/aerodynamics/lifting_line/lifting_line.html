<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lifting Line Free Vortex Wake &mdash; QBlade Documentation 2.0.4 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../../../_static/custom.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Dynamic Stall" href="../dynamic_stall/index_dynamicstall.html" />
    <link rel="prev" title="Blade Element Momentum Method" href="../bem/bem.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> QBlade Documentation
            <img src="../../../../_static/q_logo_black.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://docs.qblade.org">QBlade Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_th.html">Theory Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index_th.html#aerodynamics">Aerodynamics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../bem/bem.html">Blade Element Momentum Method</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lifting Line Free Vortex Wake</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview-of-llfvw-theory">Overview of LLFVW Theory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wake-lattice-and-connectivity">Wake Lattice and Connectivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vortex-core-desingularization">Vortex Core Desingularization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic_stall/index_dynamicstall.html">Dynamic Stall</a></li>
<li class="toctree-l3"><a class="reference internal" href="../secondary_effects/index_secondary.html">Secondary Effects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#hydrodynamics">Hydrodynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#structural-dynamics">Structural Dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_th.html#environmental-conditions">Environmental Conditions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../user/index_ue.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../validation/index_val.html">Validation Cases and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license/index_license.html">License Info</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">QBlade Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index_th.html">Theory Guide</a> &raquo;</li>
      <li>Lifting Line Free Vortex Wake</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/src/theory/aerodynamics/lifting_line/lifting_line.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lifting-line-free-vortex-wake">
<h1>Lifting Line Free Vortex Wake<a class="headerlink" href="#lifting-line-free-vortex-wake" title="Permalink to this headline"></a></h1>
<p>In QBlade the aerodynamic forces acting on a rotor can be modeled using the Lifting Line Free Vortex Wake method (LLFVW).
Similar to the <a class="reference internal" href="../bem/bem.html"><span class="doc">Blade Element Momentum Method</span></a>, in the LLFVW model the blade forces are calculated using two dimensional sectional airfoil polar data.
The main difference is that the rotor wake, shed from the blades, is explicitly resolved.
This is a large improvement over the commonly used <a class="reference internal" href="../bem/bem.html"><span class="doc">Blade Element Momentum Method</span></a> style approaches, which necessitate the introduction of a large number of empirical corrections into the simulated system.
Modeling the wake dynamics explicitly avoids the dependency on such correction models and often lead to more physically sound results.
Simulation results are improved especially in cases where the assumptions of the <a class="reference internal" href="../bem/bem.html"><span class="doc">Blade Element Momentum Method</span></a> are violated.
These include unsteady operation, large blade deformations and high tip speed ratios where the turbulent wake state is approached.
Such conditions become more and more prevalent with the ongoing trend towards larger rotor sizes and offshore floating wind turbines.</p>
<section id="overview-of-llfvw-theory">
<h2>Overview of LLFVW Theory<a class="headerlink" href="#overview-of-llfvw-theory" title="Permalink to this headline"></a></h2>
<figure class="align-center" id="id4">
<span id="fig-bladewake"></span><img alt="Blade and wake elements" src="../../../../_images/blade_wake.png" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Basic elements of the blade and wake model inside the LLFVW algorithm.</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The rotor is represented by a lifting line, located at the quarter chord position of the 2D airfoil sections (see <a class="reference internal" href="#fig-bladewake"><span class="std std-numref">Fig. 5</span></a>).
Each blade panel is represented by a vortex ring which consists of four straight vortex filaments.
The circulation of the bound vortex lines, forming the lifting line, is calculated from the relative inflow velocity and the lift and drag coefficients that are obtained from tabulated airfoil data.
The sectional circulation <span class="math notranslate nohighlight">\(\partial\Gamma\)</span> is calculated according to the Kutta-Joukowski theorem:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
\partial F_L(\alpha) = \rho V_{rel} \times \partial\Gamma ,
\end{align}\]</div>
<p>where <span class="math notranslate nohighlight">\(\partial F_L\)</span> is the sectional lift force and <span class="math notranslate nohighlight">\(\rho\)</span> is the fluid density.
The relative velocity <span class="math notranslate nohighlight">\(V_{rel}\)</span> is obtained from a simple vector addition of the free stream velocity <span class="math notranslate nohighlight">\(V_\infty\)</span>,
the blade motion <span class="math notranslate nohighlight">\(V_{mot}\)</span> and the induced velocity <span class="math notranslate nohighlight">\(V_{ind}\)</span>, which is calculated from the contribution of all vortex elements on the blade and in the wake through the Biot-Savart equation:</p>
<div class="math notranslate nohighlight" id="biotsavart">
\[\begin{align}
V_{ind} = -\frac{1}{4\pi}\int\Gamma\frac{\vec{r}\times d\vec{l}}{r^3} .
\end{align}\]</div>
<figure class="align-center" id="id5">
<span id="fig-aeroflow"></span><img alt="Aerodynamic Flowchart" src="../../../../_images/aerodynamic_flowchart.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">Flowchart for a single timestep of the aerodynamic calculations in QBlade</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>At the beginning of each time step, the circulation distribution along the blade is calculated.
This is carried out with an iterative procedure which ensures that the forces predicted by the Kutta-Joukoswki theorem and the blade element theorem coincide.
During the iteration only the bound vorticity distribution is updated, while the induction of the wake elements on the blade is only evaluated once.
After convergence is obtained, the rotor rotation is advanced for a single time step. All free wake vortex elements are convected with the local inflow and local induced velocity.
After the wake convection step, new vortex elements are created between the trailing edge of each blade panel and the last row of wake vortices that were convected away from the trailing edge.
As a last step, the circulation is computed and assigned to the new released vortex lines through the Kutta condition:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
\Gamma_{trail} = \frac{\partial{\Gamma_{bound}}}{\partial x}\Delta x .
\end{align}\]</div>
<div class="math notranslate nohighlight">
\[\begin{align}
\Gamma_{shed} = \frac{\partial{\Gamma_{bound}}}{\partial t}\Delta t .
\end{align}\]</div>
</section>
<section id="wake-lattice-and-connectivity">
<h2>Wake Lattice and Connectivity<a class="headerlink" href="#wake-lattice-and-connectivity" title="Permalink to this headline"></a></h2>
<figure class="align-center" id="id6">
<span id="fig-wakelattice"></span><img alt="Wake Lattice" src="../../../../_images/wake_lattice.png" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Visualization of the wake lattice structure with wake nodes and filaments.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#fig-wakelattice"><span class="std std-numref">Fig. 7</span></a> shows the wake lattice structure. Shed- and trailing vortices are interconnected via common vortex nodes.
During the free wake convection step the evolution of the wake is evaluated by advancing the positions of the vortex nodes in time.
Each newly created vortex node is attached to at least one shed and one trailing vortex filament, thus the total number of vortex nodes is approximately half the number of vortex filaments.
Consequently, the Biot-Savart equation has to be evaluated around:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
N_{nodes}\cdot N_{vortices} \approx \frac{N^2_{vortices}}{2}
\end{align}\]</div>
<p>times for a fully populated (assuming that no vortex elements have been removed) infinite wake lattice.
Compared to a vortex particle discretization, where no inter-connectivity exists, this means a reduction in computational cost by a factor of 2, due to the inter-connectivity of the wake lattice.
To facilitate strategies that reduce the number of free vortices within the wake a method to remove individual vortices from the wake mesh has been implemented whereby vortex filaments are detached from their corresponding nodes.
A check is performed during every step of the simulation that removes isolated vortex nodes which are not attached to any vortex filament.
The more vortices have been removed from the wake lattice, the lower the aforementioned leverage of the interconnections.</p>
</section>
<section id="vortex-core-desingularization">
<h2>Vortex Core Desingularization<a class="headerlink" href="#vortex-core-desingularization" title="Permalink to this headline"></a></h2>
<figure class="align-center" id="id7">
<span id="fig-core"></span><img alt="core" src="../../../../_images/core.png" />
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Velocity distribution around the vortex core.</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The Biot-Savart <a class="reference internal" href="#biotsavart"><span class="std std-ref">equation</span></a> exhibits a singularity at the core where <span class="math notranslate nohighlight">\(\vec{r}=0\)</span> (<a class="reference internal" href="#fig-core"><span class="std std-numref">Fig. 8</span></a>). To prevent this singularity from affecting the stability of the simulation
and also to model the viscous core of the bound and free vortices more accurately, a model for a viscous vortex core was implemented.
Many different models that describe the tangential velocity distribution around the core exist, such as the Rankine, Lamb-Oseen or Ramasay and Leishman models (see Hommes <em>et al.</em><a class="footnote-reference brackets" href="#footcite-hommes2015" id="id1">1</a>).
In QBlade a simple cut-off radius is used, which is added to the denominator of <a class="reference internal" href="#biotsavart"><span class="std std-ref">this equation</span></a> in the form of <span class="math notranslate nohighlight">\(r_{c}^2\)</span>, and ensures that the induced velocity smoothly approaches zero in the vicinity of the core.
This is a computationally efficient implementation as the viscous core modeling is directly implemented in the calculation of the induced velocity.
For other vortex models a viscous parameter needs to be evaluated from the relative vortex positions in addition to the Biot-Savart equation.
This has a severe effect on the simulation performance, as the evaluation of the viscous parameter is carried <span class="math notranslate nohighlight">\(N^2_{vortices}/2\)</span> times per time step.
When shed from the trailing edge of the blade, a vortex is release with an initial core-size <span class="math notranslate nohighlight">\(r_c\)</span> (a value of around 10% of local chord is proposed from experience).
The core-size is updated every time step according to:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
r_c = r_0+\sqrt{\frac{4a\delta_v \nu \Delta t}{1+\epsilon}} .
\end{align}\]</div>
<p>where <span class="math notranslate nohighlight">\(a = 1.25643\)</span> is a constant, <span class="math notranslate nohighlight">\(\delta_v\)</span> is the turbulent viscosity coefficient (a value depending on rotor size, see Sant<a class="footnote-reference brackets" href="#footcite-sant2007" id="id2">2</a>),
<span class="math notranslate nohighlight">\(\nu\)</span> is the kinematic viscosity and <span class="math notranslate nohighlight">\(\Delta t\)</span> the time step size. The strain rate of the vortex filament is computed as:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
\epsilon = \frac{\Delta l}{l} .
\end{align}\]</div>
<p>The desingularized Biot-Savart equation then becomes:</p>
<div class="math notranslate nohighlight">
\[\begin{align}
V_{ind} = -\frac{1}{4\pi}\int\Gamma\frac{\vec{r}\times\partial\vec{l}}{r^3+r_c^2} .
\end{align}\]</div>
<p id="id3"><dl class="footnote brackets">
<dt class="label" id="footcite-hommes2015"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>T. Hommes, J. Bosschers, and H. W.M. Hoeijmakers. Evaluation of the radial pressure distribution of vortex models and comparison with experimental data. <em>Journal of Physics: Conference Series</em>, 656(1):7–11, 2015. <a class="reference external" href="https://doi.org/10.1088/1742-6596/656/1/012182">doi:10.1088/1742-6596/656/1/012182</a>.</p>
</dd>
<dt class="label" id="footcite-sant2007"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Tonio Sant. <em>Improving BEM ‐ based Aerodynamic Models in Wind Turbine Design Codes Improving BEM ‐ based Aerodynamic Models Tonio Sant Tonio Sant Improving BEM-based Aerodynamic Models in Wind Turbine Design Codes</em>. TU Delft, 2007. ISBN 978‐99932‐0‐483‐1.</p>
</dd>
</dl>
</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bem/bem.html" class="btn btn-neutral float-left" title="Blade Element Momentum Method" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../dynamic_stall/index_dynamicstall.html" class="btn btn-neutral float-right" title="Dynamic Stall" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, David Marten, Joseph Saverin, Robert Behrens de Luna, Sebastian Perez-Becker, licensed under CC BY-NC-ND.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>